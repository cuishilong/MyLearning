## 数据仓库

基于Hive,Hbase的数仓建设

### 数据源类型

1、实体数据

抽象实体，比如用户表，商品表

一般存储在数据库中

2、业务数据

实体产生的业务，比如订单表，收藏表

一般存储在OLTP库中

3、行为数据

实体的行为，比如日志，页面日志，浏览日志等

存储在文件或数据库中

4、媒体数据

商品，音频，图片等



### 一、数据接入


#### 接入方式

Flume

Kettle

Api

Kafka

Sqoop

ELK


#### 接入策略

全量

增量

实时

批量


### 二、数据仓库

数据分层

ODS：DIM，接入表，DIC

CDM：DWD，DWS（）

ADS：面向业务，业务宽表，指标表

事实表设计（事实粒度，作为度量，null值处理，单一事实粒度下的唯一性，事实表中维度的退化）

维表设计（缓慢变化维/缓慢增长维，层级维度，通用维度沉淀，事实和维度相关字段边界确定，维度粒度）

拉链表（非分区桶表）

数据血缘关系


### 三、数据服务

面向分析型仓库（数据分层，模型构建，灵活可用）

面向存储型仓库（压缩，归档，文件格式，副本数）


